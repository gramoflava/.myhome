# ~/.tmux.conf

# Set prefix to Ctrl+a instead of default Ctrl+b
#unbind C-b
#set-option -g prefix C-a
#bind-key C-a send-prefix

# Terminal settings
set -g default-terminal "tmux-256color"
set -ga terminal-overrides ",*256col*:Tc"  # True color support

# Mouse wheel scrolling
set -g mouse on
bind -n WheelUpPane if -Ft= '#{pane_in_mode}' 'send-keys -M' 'copy-mode -e'
bind -n WheelDownPane if -Ft= '#{pane_in_mode}' 'send-keys -M' 'send-keys -M'

# Performance tweaks
set -sg escape-time 0           # No delay for escape key (important for Vim)
set -g history-limit 50000      # Increase scrollback buffer
set -g status-interval 5        # Update status bar every 5 seconds

# Window and pane indexing
set -g base-index 1             # Start window numbering at 1
setw -g pane-base-index 1       # Start pane numbering at 1
set -g renumber-windows on      # Renumber windows when one is closed

# Vi-style keys in copy mode
setw -g mode-keys vi
bind -T copy-mode-vi v send -X begin-selection
bind -T copy-mode-vi y send -X copy-selection-and-cancel
bind -T copy-mode-vi C-v send -X rectangle-toggle

# Pane navigation with arrow keys
bind -n C-Left select-pane -L
bind -n C-Right select-pane -R
bind -n C-Up select-pane -U
bind -n C-Down select-pane -D

# Pane resizing with prefix + H/J/K/L
bind -r H resize-pane -L 5
bind -r J resize-pane -D 5
bind -r K resize-pane -U 5
bind -r L resize-pane -R 5

# More intuitive split commands
bind | split-window -h -c "#{pane_current_path}"
bind - split-window -v -c "#{pane_current_path}"

# Reload config with prefix + r
bind r source-file ~/.tmux.conf \; display "Config reloaded!"

# Status bar
set -g status-left-length 40
set -g status-right "#H %d %b %R"
